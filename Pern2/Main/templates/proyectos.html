{% extends 'base.html' %}
{% load staticfiles %}
{% block link2 %}
    class='active'
{% endblock %}
{% block content %}

    <div class="container">
        <div class="col-xs-12 col-md-4">
            <div class="col-xs-12 col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Alumnos
                    </div>
                    <div class="panel-body">
                        <div class="form-group col-xs-12 col-md-6">
                            <select id="cbxCourse" class="selectpicker" data-width="100%">
                                <option value=''>Curso</option>
                                {% for i in courses %}
                                    <option value={{i.idCourse}}>{{i.courseType}}º año "{{i.courseDivision}}"</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group col-xs-12 col-md-6">
                            <select id="cbxModule" class="selectpicker" data-width="100%">
                                <option value=''>Módulo</option>
                            </select>
                        </div>
                        <div class="form-group col-xs-12">
                            <div class="input-group">
                                <select id="cbxProjectFW" class="selectpicker" data-width="100%">
                                    <option value=''>Proyecto</option>
                                </select>
                                <div class="input-group-btn">
                                    <button id="buttonCreateProject" type="button" data-target="#addProjectModal" data-toggle="modal" class="btn btn-default disabledDIV">
                                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                    </button>
                                    <button id="buttonDeleteProject" type="button" data-target="#delProjectModal" data-toggle="modal" class="btn btn-default disabledDIV">
                                        <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                                    </button>
                                    <button id="buttonEditProject" type="button" data-target="#editProjectModal" data-toggle="modal" class="btn btn-default disabledDIV">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div>
                            <table class="table table-responsive" id="myTable">
                                <thead>
                                    <tr>
                                        <th>Alumno</th>
                                        <th>Terminado</th>
                                    </tr>
                                </thead>
                                <tbody id="tbProjectStudent"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-md-8 ">
            <div class="col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-heading">Actividades</div>
                    <!-- Table -->
                    <div class="panel-body">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Etapa</th>
                                    <th>Clases</th>
                                    <th>Nota</th>
                                </tr>
                            </thead>
                            <tbody id="tableActivities"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-md-8 pull-right">
            <div class="col-xs-12 col-md-12 ">
                <div class="btn-group pull-right" role="group">
                    <!-- <div class="col-xs-12 col-md-5" style="width:54%; margin-left:886px;"><button style="width:36%;" type="button" class="btn btn-default">Terminado <span class="glyphicon glyphicon-ok" aria-hidden="true"></button></div> -->
                    <button id="addActivity" type="button" data-target="#addActivityModal" data-toggle="modal" class="btn btn-default right disabledDIV">
                        <span class="glyphicon glyphicon-plus"></span>
                        Agregar Actividad
                    </button>
                    <button id="promActivity" type="button" data-target="#mostrarPromedio" data-toggle="modal" class="btn btn-default right disabledDIV">
                        <span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span>
                        Nota Recomendada
                    </button>
                    <button id="finishWork" type="button" data-target="#modalFinishWork" data-toggle="modal" class="btn btn-default right disabledDIV">
                        <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                        Trabajo Terminado
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal Create Project-->
        <div id="addProjectModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Crear nuevo proyecto</h4>
                    </div>
                    <div class="modal-body">
                        <input class="form-control" id="projectName" maxlength="128" name="projectName" placeholder="Nombre del proyecto" type="text">
                        <br>
                        <div style="max-height:250px;overflow-y:scroll">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="col-xs-2">Añadir</th>
                                        <th>Cumplimiento</th>
                                    </tr>
                                </thead>
                                <tbody id="tbFulfillments">
                                    <tr>
                                        <th>1</th>
                                        <td>Mark</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <br>
                        <div class="panel panel-default">
                            <div class="panel-heading">Crear Cumplimiento</div>
                            <div class="panel-body">
                                <div class="col-xs-12 col-md-8">
                                    <input class="form-control" id="FFname" maxlength="128" placeholder="Nombre de Cumplimiento" type="text">
                                </div>
                                <div class="col-xs-12 col-md-4">
                                    <button id="createFF" type="button" class="btn btn-alert">Crear</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="projectSender" type="button" class="btn btn-default" data-dismiss="modal">Crear</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- Modal Delete Project-->
        <div id="delProjectModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Borrar proyecto</h4>
                    </div>
                    <div class="modal-body">
                        <p>¿Seguro que desea borrar este proyecto? (Se borraran todas las etapas de todos los alumnos)</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button id="projectDeleter" type="button" class="btn btn-default" data-dismiss="modal">Borrar</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Delete Project Complete-->
        <div id="delProjectModalSuccess" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Éxito!</h4>
                    </div>
                    <div class="modal-body">
                        <p id="delProjectResult"></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
                    </div>
                </div>

            </div>
        </div>
        <div id="editProjectModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title" id="titleEditNameProject"></h4>
                    </div>
                    <div class="modal-body">
                        <input class="form-control" id="editProjectName" maxlength="128" name="editProjectName" placeholder="Nuevo nombre del proyecto" type="text">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button id="projectModificator" type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- Modal Create Activity-->
        <div id="addActivityModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Crear nueva actividad</h4>
                    </div>
                    <div class="modal-body">
                        <input class="form-control" id="nameActivity" maxlength="128" name="nameActivity" placeholder="Nombre de la actividad" type="text">
                    </div>
                    <div class="modal-footer">
                        <button id="activitySender" type="button" class="btn btn-default" data-dismiss="modal">Crear</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- Modal Calificate Work-->
        <div id="modalCalificateWork" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Calificar</h4>
                    </div>
                    <div class="modal-body">
                        <div class="star_rating"style="text-align:center">
                            {% for j in '12345' %}
                                <span class="fa fa-star-o fa-5x" data-rating="{{j}}"></span>
                            {% endfor %}
                            <input type="hidden" name="whatever" id="calStar" class="rating-value" value="0">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="col-lg-6" style="padding-right: 0px;margin-left: 30%;">
                            <button id="calSave" onclick="calActivities()" type="button" class="btn btn-default" data-dismiss="modal">Guardar</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Edit Work-->
        <div id="modalEditWork" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Editar Actividad</h4>
                    </div>
                    <div class="modal-body">
                        <input class="form-control" id="inputEditWork" maxlength="128" placeholder="Nombre de la Actividad" type="text"><br>
                        <input class="form-control" id="inputClassesWork" maxlength="5" placeholder="Cantidad de Clases" type="text">
                        <span id="idEditStage" style="display:none"></span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button type="button" onclick="activityModify()" class="btn btn-default" data-dismiss="modal">Guardar</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- Modal Delete Work-->
        <div id="modalDeleteWork" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Borrar Actividad</h4>
                    </div>
                    <div class="modal-body">
                        <p>¿Seguro que desea borrar esta Actividad?</p>
                        <span id="idDelStage" style="display:none"></span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button id="stageDeleter" onclick="activityDeleter()" type="button" class="btn btn-default" data-dismiss="modal">Borrar</button>
                    </div>

                </div>
            </div>
        </div>
        <!-- Modal Finish Work-->
        <div id="modalFinishWork" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Termino El Trabajo</h4>
                    </div>
                    <div class="modal-body"></div>
                    <div class="modal-footer">
                        <button type="button" onclick="projectNotFinisher()" class="btn btn-defaul" data-dismiss="modal">No</button>
                        <button type="button" onclick="projectFinisher()" class="btn btn-default" data-dismiss="modal">Si</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- Modal Calcular Promedio de Actividades-->
        <div id="mostrarPromedio" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">El promedio es de:</h4>
                    </div>
                    <div class="modal-body" style="margin-top: 9.5%;">
                        <div class="col-lg-8" align="left" style="margin-top: -10.5%;">
                            <p id="spanStar"></p>
                        </div>
                        <div class="col-lg-4" align="center" style="margin-top: -11.5%;">
                            <p id="showProm" style="font-size: 55px;"></p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Continuar</button>
                    </div>
                </div>

            </div>
        </div>
    {% endblock %}
    {% block scripts %}

        <script>
            var url2 = '{% url "app_main:projects" %}';
        </script>

        <script src="{% static 'js/proj.js'%}"></script>

    {% endblock %}
